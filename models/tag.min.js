(function(){var r,t,n,u,i;i=require("mongoose"),t=i.Schema,r=t.Types.ObjectId,u=new t({name:{type:String,required:!0},order:{type:Number,"default":1},description:{type:String},menu_template:{type:String,required:!0},topic_count:{type:Number,"default":0},collect_count:{type:Number,"default":0},create_at:{type:Date,"default":Date.now},ancestors:{type:[{type:r,ref:"Tag"}],"default":[]}}),n=i.model("Tag",u),n.getTagById=function(t,i){return n.findById(t,i)},n.getTagByName=function(t,i){return n.findOne({name:t},i)},n.getTagsByIds=function(t,i){return n.findOne({_id:{$in:t}},i)},n.getAllTags=function(t){return n.find({},null,{sort:[["order","asc"]]},t)},module.exports=n}).call(this)